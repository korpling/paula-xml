<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Hierarchical structures - PAULA XML Documentation</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li><a href="preamble.html"><strong aria-hidden="true">1.</strong> Preamble</a></li><li class="spacer"></li><li><a href="datamodel-overview.html"><strong aria-hidden="true">2.</strong> Datamodel overview</a></li><li><a href="corpus-structure.html"><strong aria-hidden="true">3.</strong> Corpus structure</a></li><li><a href="required-files-and-dtds.html"><strong aria-hidden="true">4.</strong> Required files and DTDs</a></li><li><a href="metadata.html"><strong aria-hidden="true">5.</strong> Metadata</a></li><li><a href="primary-text-data.html"><strong aria-hidden="true">6.</strong> Primary text data</a></li><li><a href="spans-and-markables.html"><strong aria-hidden="true">7.</strong> Spans and markables</a></li><li><a href="hierarchical-structures.html" class="active"><strong aria-hidden="true">8.</strong> Hierarchical structures</a></li><li><a href="pointing-relations.html"><strong aria-hidden="true">9.</strong> Pointing relations</a></li><li><a href="namespaces.html"><strong aria-hidden="true">10.</strong> Namespaces</a></li><li><a href="special-scenarios.html"><strong aria-hidden="true">11.</strong> Special scenarios</a></li><li><a href="naming-conventions.html"><strong aria-hidden="true">12.</strong> Naming conventions</a></li><li class="spacer"></li><li><a href="deprecated.html"><strong aria-hidden="true">13.</strong> Older versions and deprecated components</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">PAULA XML Documentation</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#hierarchical-structures" id="hierarchical-structures">Hierarchical structures</a></h1>
<p>Hierarchical structures are used in PAULA for two different purposes:
for the creation of hierarchically nested annotation graphs (e.g. syntax
trees, rhetorical structure annotation, hierarchical topological fields)
and for the definition of structured <code>annoSet</code> objects (see
<a href="corpus-structure.html#annosets">annoSets</a>). Hierarchical structures express the graph
semantic property that a parent node consists of its children, or in
reverse, that children nodes constitute their parent nodes. The
semantics of hierarchical edges is also called dominance (a parent node
dominates a child node), and they are consequently known as dominance
edges as well. This chapter describes hierarchical annotation graphs.
For non-hierarchical annotations see also <a href="spans-and-markables.html">spans and markables</a>.</p>
<h2><a class="header" href="#structs" id="structs">Structs</a></h2>
<p>To form hierarchically nested (i.e. recursive) non-terminal nodes above
the token level, the <code>struct</code> element should be used. Directed acyclic
graphs (DAGs) of struct elements may be defined in struct files
according to <code>paula_struct.dtd</code>. The <code>struct</code> element is embedded within
a <code>structList</code> which determines the <code>@type</code> for all structs in the file.
It has only one attribute, an <code>@id</code> which allows it to become the target
of incoming edges. Outgoing edges are annotated using the child element
<code>rel</code>, which has its own <code>@type</code> (the type of edge) and an attribute
<code>@xlink:href</code> determining the target's id, as well as its own <code>@id</code>
attribute for further annotation (see annotating structs and rels). The
following example illustrates a simple syntax tree for the sentence &quot;he
&quot;. The correpsonding syntax tree is also visualized in the next figure.</p>
<p><strong>Constructing a hierarchical syntax tree with <code>struct</code> elements
type</strong></p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt;
&lt;!DOCTYPE paula SYSTEM &quot;paula_struct.dtd&quot;&gt;

&lt;paula version=&quot;1.1&quot;&gt;
&lt;header paula_id=&quot;mycorpus.doc2_phrase&quot;/&gt;

&lt;structList xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; 
type=&quot;phrase&quot;&gt;
&lt;struct id=&quot;phrase_1&quot;&gt; &lt;!-- NP --&gt;
    &lt;!-- he --&gt;
    &lt;rel id=&quot;rel_1&quot; type=&quot;edge&quot; xlink:href=&quot;mycorpus.doc2.tok.xml#tok_1&quot;/&gt;
&lt;/struct&gt;
&lt;struct id=&quot;phrase_2&quot;&gt; &lt;!-- VP --&gt;
    &lt;!-- takes --&gt;
    &lt;rel id=&quot;rel_2&quot; type=&quot;edge&quot; xlink:href=&quot;mycorpus.doc2.tok.xml#tok_2&quot;/&gt;
    &lt;rel id=&quot;rel_3&quot; type=&quot;edge&quot; xlink:href=&quot;#phrase_3&quot;/&gt;
    &lt;rel id=&quot;rel_4&quot; type=&quot;edge&quot; xlink:href=&quot;#phrase_4&quot;/&gt;
    &lt;rel id=&quot;rel_5&quot; type=&quot;edge&quot; xlink:href=&quot;#phrase_5&quot;/&gt;
&lt;/struct&gt;
&lt;struct id=&quot;phrase_3&quot;&gt; &lt;!-- NP --&gt;
    &lt;!-- people --&gt;
    &lt;rel id=&quot;rel_6&quot; type=&quot;edge&quot; xlink:href=&quot;mycorpus.doc2.tok.xml#tok_3&quot;/&gt;
    &lt;!-- _ --&gt;
    &lt;rel id=&quot;rel_7&quot; type=&quot;secedge&quot; xlink:href=&quot;mycorpus.doc2.tok.xml#tok_5&quot;/&gt;
&lt;/struct&gt;
&lt;struct id=&quot;phrase_4&quot;&gt; &lt;!-- PRT --&gt;
    &lt;!-- out --&gt;
    &lt;rel id=&quot;rel_8&quot; type=&quot;edge&quot; xlink:href=&quot;mycorpus.doc2.tok.xml#tok_4&quot;/&gt;
&lt;/struct&gt;
&lt;struct id=&quot;phrase_5&quot;&gt; &lt;!-- S --&gt;
    &lt;rel id=&quot;rel_9&quot; type=&quot;edge&quot; xlink:href=&quot;#phrase_6&quot;/&gt;
    &lt;rel id=&quot;rel_10&quot; type=&quot;edge&quot; xlink:href=&quot;#phrase_7&quot;/&gt;
&lt;/struct&gt;
&lt;struct id=&quot;phrase_6&quot;&gt; &lt;!-- NP --&gt;
    &lt;!-- _ --&gt;
    &lt;rel id=&quot;rel_11&quot; type=&quot;edge&quot; xlink:href=&quot;mycorpus.doc2.tok.xml#tok_5&quot;/&gt;
&lt;/struct&gt;
&lt;struct id=&quot;phrase_7&quot;&gt; &lt;!-- VP --&gt;
    &lt;!-- to --&gt;
    &lt;rel id=&quot;rel_12&quot; type=&quot;edge&quot; xlink:href=&quot;mycorpus.doc2.tok.xml#tok_6&quot;/&gt;
    &lt;rel id=&quot;rel_13&quot; type=&quot;edge&quot; xlink:href=&quot;#phrase_8&quot;/&gt;
&lt;/struct&gt;
&lt;struct id=&quot;phrase_8&quot;&gt; &lt;!-- VP --&gt;
    &lt;!-- fish --&gt;
    &lt;rel id=&quot;rel_14&quot; type=&quot;edge&quot; xlink:href=&quot;mycorpus.doc2.tok.xml#tok_7&quot;/&gt;
&lt;/struct&gt;
&lt;struct id=&quot;phrase_9&quot;&gt; &lt;!-- S --&gt;
    &lt;rel id=&quot;rel_15&quot; type=&quot;edge&quot; xlink:href=&quot;#phrase_1&quot;/&gt; 
    &lt;rel id=&quot;rel_16&quot; type=&quot;edge&quot; xlink:href=&quot;#phrase_2&quot;/&gt; 
&lt;/struct&gt;
&lt;struct id=&quot;phrase_10&quot;&gt; &lt;!-- TOP --&gt;
    &lt;rel id=&quot;rel_17&quot; type=&quot;edge&quot; xlink:href=&quot;#phrase_9&quot;/&gt; 
&lt;/struct&gt;
&lt;/structList&gt;

&lt;/paula&gt;
</code></pre>
<p><strong>Syntax tree for &quot;he takes people out to fish&quot;</strong><br />
<img src="figures/fish_tree.png" alt="Syntax tree for &quot;he takes people out to fish&quot;" /></p>
<p>In this example, the individual nodes in the tree from the figure above
are represented by <code>struct</code> elements. Each <code>struct</code> element contains
<code>rel</code> elements which define edge leading to its children. Thus
&quot;phrase_1&quot; directly dominates a token &quot;tok_1&quot;, corresponding to the
word &quot;he&quot;. Note that, since the tokens are in a separate file,
references to the tokens give a full href attribute with the token file
name: mycorpus.doc2.tok.xml#tok_1. Phrase nodes dominating other
phrase nodes within the same file do not require any prefix: &quot;phrase_9&quot;
dominates &quot;#phrase_5&quot; directly. Most edges in the tree have been given
the edge <code>@type</code> &quot;edge&quot;, but one edge, by which the NP above &quot;people&quot;
(marked in red in the figure above) indirectly dominates an empty token
between &quot;out&quot; and &quot;to&quot; (marked in green) with a different <code>@type</code>:
&quot;secedge&quot; (a 'secondary' edge). There is no limit to the amount of edge
types used in a document, but XML naming conventions should be followed
in giving type names that are ascii alphanumeric, without spaces and
beginning with an alphabetic character (see <a href="naming-conventions.html">naming
conventions</a>). The node labels (&quot;NP&quot;, &quot;VP&quot;) and the
edge labels (&quot;SBJ&quot;, &quot;PRP&quot;) are not defined within the <code>struct</code> file, but
are given as separate annotation files: see <a href="#annotating-structs-and-rels">annotating structs and
rels</a>.</p>
<h2><a class="header" href="#annotating-structs-and-rels" id="annotating-structs-and-rels">Annotating structs and rels</a></h2>
<p>Hierarchical graphs made of <code>struct</code> and <code>rel</code> elements may be further
annotated using <code>feat</code> elements, much like annotation
<a href="spans-and-markables.html#annotation-span-markables">spans</a>. To annotate <code>struct</code> nodes, use a <code>feat</code> file
pointing to the nodes and give the annotation name in the <code>@type</code>
attribute. The following example illustrates the phrase annotations for
the tree in the previous section.</p>
<p><strong>Annotating nodes from a <code>struct</code> file with <code>feat</code> annotations for phrase category: &quot;cat&quot;</strong></p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt;

&lt;!DOCTYPE paula SYSTEM &quot;paula_feat.dtd&quot;&gt;
&lt;paula version=&quot;1.1&quot;&gt;

&lt;header paula_id=&quot;mycorpus.doc2_phrase_cat&quot;/&gt;

&lt;featList xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; type=&quot;cat&quot; 
xml:base=&quot;mycorpus.doc2.phrase.xml&quot;&gt;
    &lt;feat xlink:href=&quot;#phrase_1&quot; value=&quot;NP&quot;/&gt;&lt;!-- he --&gt;
    &lt;feat xlink:href=&quot;#phrase_2&quot; value=&quot;VP&quot;/&gt;&lt;!-- takes --&gt;
    &lt;feat xlink:href=&quot;#phrase_3&quot; value=&quot;NP&quot;/&gt;&lt;!-- people _ --&gt;
    &lt;feat xlink:href=&quot;#phrase_4&quot; value=&quot;PRT&quot;/&gt;&lt;!-- out --&gt;
    &lt;feat xlink:href=&quot;#phrase_5&quot; value=&quot;S&quot;/&gt;&lt;!-- _ to fish --&gt;
    &lt;feat xlink:href=&quot;#phrase_6&quot; value=&quot;NP&quot;/&gt;&lt;!-- _ --&gt;
    &lt;feat xlink:href=&quot;#phrase_7&quot; value=&quot;VP&quot;/&gt;&lt;!-- to fish --&gt;
    &lt;feat xlink:href=&quot;#phrase_8&quot; value=&quot;VP&quot;/&gt;&lt;!-- fish --&gt;
    &lt;!-- he takes people out _ to fish --&gt;
    &lt;feat xlink:href=&quot;#phrase_9&quot; value=&quot;S&quot;/&gt;
    &lt;!-- he takes people out _ to fish --&gt;
    &lt;feat xlink:href=&quot;#phrase_10&quot; value=&quot;TOP&quot;/&gt;
&lt;/featList&gt;

&lt;/paula&gt;
</code></pre>
<p>The annotation name is set as &quot;cat&quot; and it applies to the elements
&quot;phrase_1&quot; to &quot;phrase_10&quot; in the xml:base file, which contains the
phrase nodes. For conventions how to name the <code>@paula_id</code> and XML files,
see <a href="naming-conventions.html">naming conventions</a>.</p>
<p>Annotating edges works in a similar way, except that <code>rel</code> elements are
references instead of <code>struct</code> elements. It is possible to annotate
edges of multiple types in the same XML file, as long as the name of the
annotation being applied to them is identical. The following example
illustrates this using the edges from the example tree in the previous section (note that &quot;rel_7&quot; had the type &quot;secedge&quot; while
the others had &quot;edge&quot;, and also that not all edges have been annotated,
which is fine).</p>
<p><strong>Annotating edges from a <code>struct</code> file with <code>feat</code> annotations for phrase function: &quot;func&quot;</strong></p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt;

&lt;!DOCTYPE paula SYSTEM &quot;paula_feat.dtd&quot;&gt;
&lt;paula version=&quot;1.1&quot;&gt;

&lt;header paula_id=&quot;mycorpus.doc2_phrase_func&quot;/&gt;

&lt;featList xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; type=&quot;func&quot; 
xml:base=&quot;mycorpus.doc2.phrase.xml&quot;&gt;
    &lt;feat xlink:href=&quot;#rel_5&quot; value=&quot;PRP&quot;/&gt;&lt;!-- _ to fish --&gt;
    &lt;feat xlink:href=&quot;#rel_9&quot; value=&quot;SBJ&quot;/&gt;&lt;!-- _ --&gt;
    &lt;feat xlink:href=&quot;#rel_11&quot; value=&quot;NONE&quot;/&gt;&lt;!-- _ --&gt;
    &lt;feat xlink:href=&quot;#rel_15&quot; value=&quot;SBJ&quot;/&gt;&lt;!-- he --&gt;
&lt;/featList&gt;

&lt;/paula&gt;
</code></pre>
<p>Just as with markables, it is also possible to specify multiple
annotations for the same nodes in one XML document using multiFeat files
(see <a href="spans-and-markables.html#multifeats">multiFeats</a> for details).</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="spans-and-markables.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="pointing-relations.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="spans-and-markables.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="pointing-relations.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
